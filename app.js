///// Initialize top pagefunction initTopPage() {    $("#TopListView").empty();        var list = getMemoList();    for (var i in list) {        var memo = list[i];        var d = new Date(memo.time);        var date = d.getFullYear() + "/" + (d.getMonth() + 1) + "/" + d.getDate();                $li = $("<li><a href='#' class='show'><h3></h3><p></p></a><a href='#' class='delete'>Delete</a></li>");        $li.data("id", memo.id);        $li.find("h3").text(date);        $li.find("p").text(memo.text);        $("#TopListView").prepend($li);    }    if (list.length == 0) {        $li = $("<li>No memo found</li>");        $("#TopListView").prepend($li);    }    $("#TopListView").listview("refresh");  // Call refresh after manipulating list}///// Save memo and return to top pagefunction onSaveBtn() {    var title = $("#todo-title").val();    if (title != '') {        var text = $("#todo-description").val();        var data = new Array();        data.push({title:title, text:text});        // Save to local storage        addMemo(data);        // Clear form        $("#todo-title").val("");        $("#todo-description").val("");        // Initialize top page        initTopPage();    }        $.mobile.changePage("#TopPage", { reverse: true });}///// Move to detail pagefunction onShowLink() {    var $li = $(this).parent();    var memoTitle = $li.find("h3").text();    var memoHtml = $li.find("p").html().replace(/\n/g, "<br>");        $("#todo-title").text(memoTitle);    $("#todo-description").html(memoHtml);    $.mobile.changePage("#AddPage");}///// Delete memofunction onDeleteLink() {    if (!confirm("Are you sure to delete this memo?")) {      return;    }    var $li = $(this).parent();    var id = $li.data("id");    deleteMemo(id);        initTopPage();        // Return to top    $.mobile.changePage("#TopPage", { reverse: true });}///// Called when app launchfunction onReady() {    //初期化    initTopPage();    //イベントハンドラ登録    $("#SaveBtn").click(onSaveBtn);    $("#TopListView a.show").live("click", onShowLink);    $("#TopListView a.delete").live("click", onDeleteLink);        monaca.splashScreen.hide();}$(onReady); // on DOMContentLoaded