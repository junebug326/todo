///// Initialize top pagefunction showTopPage() {    showTopPage(null);};function showTopPage(x_sort) {    alert("showTopPage");    $("#TopListView").empty();    var p_list = getItemList();    for (var i in p_list) {        var p_memo = p_list[i];        var p_date = new Date(p_memo.startdate);        var p_startdate = p_date.getFullYear() + "/" + (p_date.getMonth() + 1) + "/" + p_date.getDate();                //一覧表示部品作成        $li = $("<li><a href='#' class='showItem'><h3></h3><p></p></a><a href='#' class='deleteItem'>Delete</a></li>");        $li.data("id", p_memo.id);            //ID        $li.find("h3").text(p_startdate);     //開始予定日（※予定日入力なしの場合の考慮要）        $li.find("p").text(p_memo.title);     //タイトル        $("#TopListView").prepend($li);    }    if (p_list.length == 0) {        //0件の場合        $li = $("<li>No memo found</li>");        $("#TopListView").prepend($li);    }    $("#TopListView").listview("refresh");}///// 追加ボタン押下後の処理function onAddBtn() {    alert("onAddBtn");    // フォームデータのクリア    clearFormValue();    $.mobile.changePage("#AddPage", { reverse: true });}///// 保存ボタン押下後の処理function onSaveBtn() {    var p_title = $("#todo-title").val();    if (p_title != '') {        //フォームデータ取得        var p_data = getFormValue();        //local storageに保存        addItem(p_data);        // フォームデータのクリア        clearFormValue();        // トップページ更新        showTopPage();    }        $.mobile.changePage("#TopPage", { reverse: true });}///// リスト項目押下後の処理function onShowLink() {//    var memoTitle = $li.find("h3").text();//    var memoHtml = $li.find("p").html().replace(/\n/g, "<br>");    var p_id = $li.data("id");    var p_item = getItem(p_id);    if (p_item) {        //フォームデータのセット        setFormValue(p_item);    }    $.mobile.changePage("#AddPage");}///// 削除押下後の処理function onDeleteLink() {    if (!confirm("本当に削除しますか?")) {      return;    }    var $li = $(this).parent();    var p_id = $li.data("id");    deleteItem(p_id);    showTopPage();        $.mobile.changePage("#TopPage", { reverse: true });}///// アプリ起動時の処理function onReady() {    //初期化    showTopPage();    //イベントハンドラ登録    //追加ボタン    $("#addBtn").click(onAddBtn);    //一覧    $("#TopListView a.showItem").live("click", onShowLink);    $("#TopListView a.deleteItem").live("click", onDeleteLink);    //ソート    $("#sortDate").live("click", {sort:'date'}, showTopPage);    $("#sortImportant").live("click", {sort:'important'}, showTopPage);    $("#sortEnd").live("click", {sort:'end'}, showTopPage);    //保存ボタン    $("#saveBtn").click(onSaveBtn);        monaca.splashScreen.hide();}$(onReady); // on DOMContentLoaded